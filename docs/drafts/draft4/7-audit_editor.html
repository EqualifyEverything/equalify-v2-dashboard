<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Audit - Audit Editor - Equalify</title>
</head>
<body>
    <header>
        <nav aria-label="Main">
            <ul>
                <li><a href="#">Audits</a></li>
                <li><a href="#">Account</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>General Accessibility Audit</h1>
        <section>
            <h2>Edit Audit</h2>
            <form>
                    <label for="audit_name">Audit Name:</label>
                    <input id="audit_name" type="text" value="General Accessibility Audit">
                    <label for="frequency">Frequency:</label>
                    <select>
                        <option checked>Manually</option>
                        <option>Daily</option>
                        <option>Weekly</option>
                        <option>Monthly</option>
                        <option>On Monitor Update</option>
                    </select>
                    <details>
                        <summary>Pages</summary>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" aria-label="Select all Pages" onclick="toggleAllTableCheckboxes(this)"></th>
                                    <th>Title</th>
                                    <th>URL</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="checkbox" class="row-checkbox" checked></td>
                                    <td>Berkeley Library (Staging)</td>
                                    <td><code>https://update.lib.berkeley.edu/</code></td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="row-checkbox" checked></td>
                                    <td>Berkeley Homepage (Staging)</td>
                                    <td><code>https://www-stg.berkeley.edu</code></td>
                                </tr>
                            </tbody>
                        </table>
                        <form>
                            <fieldset>
                                <legend>Add Pages</legend>
                                <label for="importer">Import By:</label>
                                <select id="importer">
                                    <option selected>Page URL(s)</option>
                                    <option>Sitemap</option>
                                    <option>CSV</option>
                                </select>
                                <div id="page-url-section">
                                    <label for="urls">Page URL(s):</label>
                                    <input id="urls" type="text" required>
                                </div>
                                <div id="sitemap-section" style="display:none;">
                                    <label for="sitemap-url">Sitemap URL:</label>
                                    <input id="sitemap-url" type="url">
                                </div>
                                <div id="csv-section" style="display:none;">
                                    <label for="csv-upload">CSV Upload:</label>
                                    <input id="csv-upload" type="file" accept=".csv">
                                </div>
                            </fieldset>
                            <button>Add Page(s)</button>
                        </form>
                        <script>
                            document.getElementById("importer").addEventListener("change", function() {
                                var selectedOption = this.value;
                                
                                // Hide all sections
                                document.getElementById("page-url-section").style.display = "none";
                                document.getElementById("sitemap-section").style.display = "none";
                                document.getElementById("csv-section").style.display = "none";
                                
                                // Show the appropriate section based on selection
                                if (selectedOption === "Page URL(s)") {
                                    document.getElementById("page-url-section").style.display = "block";
                                } else if (selectedOption === "Sitemap") {
                                    document.getElementById("sitemap-section").style.display = "block";
                                } else if (selectedOption === "CSV") {
                                    document.getElementById("csv-section").style.display = "block";
                                }
                            });
                        </script>            
                    </details>
                    <details>
                        <summary>Checks</summary>
                        <fieldset>
                            <label>
                                <input type="checkbox" onclick="toggleFieldsetCheckboxes(this)" checked> All axe-core Checks
                            </label>
                            <ul>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> ARIA-Related
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">aria-prohibited-attr</a>
                                            </label> 
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">aria-required-children</a>
                                            </label> 
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> Page Content
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">page-has-heading-one</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">page-has-main</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">color-contrast</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">no-autoplay-audio</a>
                                            </label> 
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">viewport-font-resize</a>
                                            </label> 
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> Meta Checks
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">meta-refresh</a>
                                            </label> 
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">meta-viewport</a>
                                            </label>         
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </fieldset>
                        <fieldset>
                            <legend>Editora11y</legend>
                            <label>
                                <input type="checkbox" onclick="toggleFieldsetCheckboxes(this)" checked> All Editora11y Checks
                            </label>
                            <ul>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> Headings
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">skipped-heading-levels</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">empty-headings</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">very-long-headings</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">suspiciously-short-blockquotes</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">all-bold-paragraphs</a>
                                            </label>         
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> Text Alternatives
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">images-without-alt</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">empty-alt-elements</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">filename-as-alt</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">very-long-alt-text</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">redundant-alt-text</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">video-embed-captions</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">audio-embed-transcript</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">social-media-embed-alt</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">visualization-text-alternatives</a>
                                            </label>         
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> Meaningful Links
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">links-no-text</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">links-filename-title</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">generic-link-text</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">new-window-link-icon</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">image-link-wrong-alt</a>
                                            </label>         
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label>
                                        <input type="checkbox" onclick="toggleSubItems(this)" checked> General Content Quality Assurance
                                    </label>
                                    <ul>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">improper-list-elements</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">avoid-caps-lock-text</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">tables-no-headers</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">empty-table-headers</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">document-headers-in-tables</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">check-pdf-download-accessibility</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">suspiciously-short-blockquotes</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">embedded-videos-captions</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">embedded-audio-transcript</a>
                                            </label>         
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" checked> <a href="#">social-media-content-accessibility</a>
                                            </label>         
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </fieldset>
                        <fieldset>
                            <legend>Custom Checks</legend>
                            <a href="8-check_editor.html">New Check</a>
                        </fieldset>
                    </details>
                    <fieldset>
                        <legend>Notifications</legend>
                        <label>
                            <input type="checkbox" checked> <a href="#">Email summary when audit is run.</a>
                        </label> 
                    </fieldset>
                    <button type="button" onclick="window.location.href='12-audit_details-saved.html';">Save Audit</button>

                    <script>
                        function toggleFieldsetCheckboxes(triggerCheckbox) {
                            // Get the closest fieldset containing the trigger checkbox
                            const fieldset = triggerCheckbox.closest('fieldset');

                            if (!fieldset) return; // Exit if no fieldset is found

                            // Find all checkboxes within the fieldset except the trigger checkbox
                            const checkboxes = fieldset.querySelectorAll('input[type="checkbox"]:not(:scope > legend input[type="checkbox"])');
                            
                            // Set the state of all checkboxes to match the trigger checkbox
                            checkboxes.forEach(checkbox => {
                                checkbox.checked = triggerCheckbox.checked;
                            });
                        }
                        function toggleSubItems(checkbox) {
                            const parentLi = checkbox.closest('li'); // Find the closest <li> element
                            if (!parentLi) return;

                            const nestedCheckboxes = parentLi.querySelectorAll('ul input[type="checkbox"]'); // Find nested checkboxes
                            nestedCheckboxes.forEach(childCheckbox => {
                                childCheckbox.checked = checkbox.checked; // Set each nested checkbox to the same state
                            });
                        }
                        function toggleAllTableCheckboxes(source) {
                            const checkboxes = document.querySelectorAll('.row-checkbox');
                            checkboxes.forEach(checkbox => checkbox.checked = source.checked);
                            toggleEditOptions();
                        }
                    </script>
                    
                </form>    
            <button disabled>Delete Audit</button>
        </section>
    </main>

    <footer>
        <section>
            <h2>Scan Quota</h2>
            <p>0 free scans remaining. <a href="#">Upgrade</a>.</p>
        </section>
        <section>
            <h2>Need help?</h2>
            <p>Email <a href="#">support@equalify.app</a>.</p>
        </section>
    </footer>

</body>
</html>
