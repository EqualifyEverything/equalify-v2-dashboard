<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Accessibility Audit - Audit Details - Equalify</title>
</head>
<body>
    <header>
        <nav aria-label="Main">
            <ul>
                <li><a href="#">Audits</a></li>
                <li><a href="#">Account</a></li>
            </ul>
        </nav>
    </hader>

    <main>
        <h1>General Accessibility Audit</h1>
        <div aria-live="polite">Grouping items by page.</div>
        <article>
            <h2>Overview</h2>
            <p>40 checks on 2 pages. Manually triggered.</p>
        </article>
        <article>
            <h2>Actions</h2>
            <nav aria-label="Audit Actions">
                <button>Run Audit</button>
                <a href="7-audit_editor.html">Edit Audit</a>    
            </nav>
        </article>
        <article>
            <h2>Progress</h2>
            <table>
                <thead>
                    <tr>
                        <th>Audit Date</th>
                        <th>Equalified</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>12-1-24</td>
                        <td>0%</td>
                    </tr>
                </tbody>
            </table>
        </article>
        <article>
            <h2>Related Items</h2>
            <section>
                <h3>View Options</h3>
                <form>
                    <fieldset>
                        <legend>Search</legend>
                        <label for="search_source">Search In:</label>
                        <select id="search_source">
                            <option>Page Title</option>
                            <option>URL</option>
                            <option>Tag</option>
                            <option>Issue</option>
                            <option>Item Code</option>
                        </select>
                        <label for="search">Keywords:</label>
                        <input type="text" id="search">
                    </fieldset>
                    <fieldset>
                        <legend>Group Items By</legend>
                        <label>
                            <input name="group" type="radio"> Issue
                        </label>
                        <label>
                            <input name="group" type="radio" checked> Page
                        </label>
                        <label>
                            <input name="group" type="radio"> Check
                        </label>
                        <label>
                            <input name="group" type="radio"> None 
                        </label>
                    </fieldset>                    <fieldset>
                        <legend>Include Items with Status</legend>
                        <label>
                            <input type="checkbox" checked> Active
                        </label>
                        <label>
                            <input type="checkbox"> Ignored
                        </label>
                        <label>
                            <input type="checkbox" checked> Equalified
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Sort</legend>
                        <label>
                            <input name="sort" type="radio" checked> Alphabetically (A to Z)
                        </label>
                        <label>
                            <input name="sort" type="radio"> Alphabetically (Z to A)
                        </label>
                        <label>
                            <input name="sort" type="radio"> Active Items (Most to Least)
                        </label>
                        <label>
                            <input name="sort" type="radio"> Active Items (Least to Most)
                        </label>
                        <label>
                            <input name="sort" type="radio"> Audited (Latest to Oldest)
                        </label>
                        <label>
                            <input name="sort" type="radio"> Audited (Oldest to Latest)
                        </label>
                    </fieldset>
                    <button type="button">Save View Options</button>
                </form>
            </section>
            <section>
                <h3>All Page Items - Grouped by Page - Hiding Ignored Items</h3>
                <details>        
                    <summary><a href="#">Berkeley Library (Staging)</a> - <code>https://update.lib.berkeley.edu/</code> (1 Active Item)</summary>
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" aria-label="Select all items" onclick="toggleAllTableCheckboxes(this)">
                                </th>
                                <th>ID</th>
                                <th>Code</th>
                                <th>Screenshot</th>
                                <th>Issues</th>
                                <th>Status</th>
                                <th>Check</th>
                                <th>Audit Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="row-checkbox"></td>
                                <td>3</td>
                                <td><code>&lt;h1 class="weird_heading"&gt;&lt;/h1&gt;</code></td>
                                <td><img src="image.jpg" alt="Screenshot of Item 3"></td>
                                <td>Heading tag without any text</td>
                                <td>Active</td>
                                <td>empty-headings</td>
                                <td>12-1-2024</td>
                            </tr>
                        </tbody>
                    </table>
                    <nav aria-label="Berkeley Library (Staging) Table of Items">
                        Showing 1 of 1 Items <button disabled>Load More Page Items</button>
                    </nav> 
                </details>
                <details>        
                    <summary><a href="#">Berkeley Homepage (Staging)</a> - <code>https://www-stg.berkeley.edu</code> (1 Active Item)</summary>
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" aria-label="Select all items" onclick="toggleAllTableCheckboxes(this)">
                                </th>
                                <th>ID</th>
                                <th>Code</th>
                                <th>Screenshot</th>
                                <th>Issues</th>
                                <th>Status</th>
                                <th>Check</th>
                                <th>Audit Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="row-checkbox"></td>
                                <td>1</td>
                                <td><code>&lt;h2&gt;&lt;!-- Heading should not be empty --&gt;&lt;/h2&gt;</code></td>
                                <td><img src="image.jpg" alt="Screenshot of Item 1"></td>
                                <td>Heading tag without any text</td>
                                <td>Active</td>
                                <td>empty-headings</td>
                                <td>12-1-2024</td>
                            </tr>
                        </tbody>
                    </table>
                    <nav aria-label="Berkeley Homepage (Staging) Table of Items">
                        Showing 1 of 1 Items <button disabled>Load More Page Items</button>
                    </nav> 
                </details> 
                <nav aria-label="Audited Pages">
                    Showing 2 of 2 Audited Pages <button disabled>Load More Pages</button>
                </nav> 
                <script>
                    function toggleAllTableCheckboxes(source) {
                        const table = source.closest('table');
                        const checkboxes = table.querySelectorAll('.row-checkbox');
                        checkboxes.forEach(checkbox => checkbox.checked = source.checked);
                        toggleEditOptions();
                    }
                </script>
            </section>  
            <section>
                <h3>Edit Page Items</h3>
                <button>Ignore Item(s)</button>
                <button onclick="openDialog()">Generate Ticket</button>
                <script>
                    function openDialog() {
                        const dialog = document.getElementById("generate-ticket-dialog");
                        if (dialog) {
                            dialog.showModal();
                        }
                    }
                
                    function closeDialog() {
                        const dialog = document.getElementById("generate-ticket-dialog");
                        if (dialog) {
                            dialog.close();
                        }
                    }
                </script>
                <dialog id="generate-ticket-dialog">
                    <h4>Generated Ticket</h4>
                    <div id="ticketStatus" aria-live="polite">Ticket generated into content field.</div>

                    <form method="dialog">                
                        <label for="ticket-content">Content:</label>
                        <textarea id="ticket-content">
                            ### Accessibility Issues Summary
                            
                            1. **Berkeley Library (Staging)** - [https://update.lib.berkeley.edu/](https://update.lib.berkeley.edu/)
                            - **Issue:** Heading tag without any text.
                            - **Code Snippet:** `<h1 class="weird_heading"></h1>`
                            - **Status:** Active.
                            - **Check Type:** `empty-headings`.
                            - **Audit Date:** 12-1-2024.
                            - **Suggested Fix:** Add meaningful text to the `<h1>` tag, e.g., `<h1>Welcome to the Library</h1>`.
                            
                            2. **Berkeley Homepage (Staging)** - [https://www-stg.berkeley.edu](https://www-stg.berkeley.edu)
                            - **Issue:** Heading tag without any text.
                            - **Code Snippet:** `<h2><!-- Heading should not be empty --></h2>`
                            - **Status:** Active.
                            - **Check Type:** `empty-headings`.
                            - **Audit Date:** 12-1-2024.
                            - **Suggested Fix:** Include a descriptive heading, e.g., `<h2>Explore Berkeley's Resources</h2>`.
                            
                            Ensure all headings are meaningful and assistive technology-friendly.

                            Rescan page at https://equalify.app/audit1
                        </textarea>
                
                        <div style="margin-top: 15px;">
                            <button type="button"  id="copyButton">Copy Ticket</button>
                            <button type="button">Save to Jira</button>
                            <button type="button" onclick="document.getElementById('generate-ticket-dialog').close();">Close</button>
                            <script>
                                document.getElementById('copyButton').addEventListener('click', function() {
                                  // Replace the content of the div with the message
                                  const statusDiv = document.getElementById('ticketStatus');
                                  statusDiv.textContent = 'Ticket content copied.';
                                });
                            </script>
                        </div>
                    </form>
                </dialog>
            </section>
        </article>
        <article>
            <h2>Related Logs</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Summary</th>
                        <th>Trigger</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#">Log 3</a></td>
                        <td>One item ignored from General Accessibility Audit.</td>
                        <td>User: Lucy</td>
                    </tr>
                    <tr>
                        <td><a href="#">Log 2</a></td>
                        <td>Audit ran. Three page items have issues.</td>
                        <td>General Accessibility Audit</td>
                    </tr>
                    <tr>
                        <td><a href="#">Log 1</a></td>
                        <td>Two pages added to General Accessibility Audit.</td>
                        <td>User: Lucy</td>
                    </tr>
                </tbody>
            </table>

            <nav aria-label="Logs Table">
                Showing 2 of 2 Logs <button disabled>Load More Logs</button>
            </nav>
        </article>
    </main>

    <footer>
        <section>
            <h2>Scan Quota</h2>
            <p>0 free scans remaining. <a href="#">Upgrade</a>.</p>
        </section>
        <section>
            <h2>Need help?</h2>
            <p>Email <a href="#">support@equalify.app</a>.</p>
        </section>
    </footer>


</body>
</html>
