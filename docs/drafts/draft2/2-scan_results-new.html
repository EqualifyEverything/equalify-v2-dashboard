<!-- 
Note that new nodes and log items are added.

Demo Step 2: 
Update Scan settings and add "Equalify Home Editorial" as name, "Daily" in frequency, "My Dashboard" as location. 
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
    <title>Scan 219 - Scan Results</title>
</head>
<body>
    <header>
        <nav aria-label="Main">
            <ul>
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Pages</a></li>
                <li><a href="#">Logs</a></li>
                <li><a href="#">Account</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>Scan 219 - Results</h1>
        <div aria-live="polite">Scan successful. 2 new nodes. 2 new issues.</div>
        <nav aria-label="Secondary">
            <h2>Actions</h2>
            <ul>
                <li><button onclick="window.location.href='4-scan_results-run2.html';">Run Scan</button></li>
                <li>
                    <button id="scan-settings-button">Scan Settings</button>
                    <dialog id="scan-settings-dialog" aria-labelledby="scan-settings-title">
                        <h3>Scan Settings</h3>
                        <form action="3-scan_results-saved.html" method="get">

                            <fieldset>
                                <legend>General Settings</legend>

                                <label for="scan-name">Name:</label>
                                <input type="text" id="scan-name" name="scan-name" value="Scan 219" required />

                                <label for="scan-repeat">Repeat Scan:</label>
                                <select id="scan-repeat" name="scan-repeat">
                                    <option value="none" selected>None</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="monthly">On Page Change</option>
                                </select>

                            </fieldset>

                            <fieldset>
                                <legend>Select Scans</legend>
                                <ul>
                                    <li>
                                        <label>
                                            <input type="checkbox" checked> axe-core
                                        </label> 
                                    </li>
                                    <li>
                                        <label>
                                            <input type="checkbox" checked> Editora11y
                                        </label> 
                                    </li>
                                    <li>
                                        <a href="#">New Scan</a>
                                    </li>
                                </ul>   
                            </fieldset>

                            <fieldset>
                                <legend>URLs</legend>
                                <ul>
                                    <li>
                                        https://equalify.app <button>Remove</button>
                                    </li>
                                    <li>
                                        https://philosophers.group <button>Remove</button>
                                    </li>
                                    <li>
                                        <label for="urls">URL(s):</label> <input type="url" id="urls"><button>Add URL(s)</button>
                                    </li>
                                </ul>   
                            </fieldset>

                            <button type="submit">Save Scan</button>
                            <button type="button" id="cancel-save-scan">Cancel</button>

                        </form>
                    </dialog>
                    <script>
                        const saveScanButton = document.getElementById('scan-settings-button');
                        const saveScanDialog = document.getElementById('scan-settings-dialog');
                        const cancelSaveScan = document.getElementById('cancel-save-scan');
                    
                        saveScanButton.addEventListener('click', () => {
                            saveScanDialog.showModal();
                        });
                    
                        cancelSaveScan.addEventListener('click', () => {
                            saveScanDialog.close();
                        });
                    </script>
                </li>
            </ul>        </nav>     
        <article>
            <h2>Scan Progress</h2>
            <table>
                <thead>
                    <tr>
                        <th scope="col">Time</th>
                        <th scope="col">Equalified %</th>
                        <th scope="col">Active %</th>
                        <th scope="col">Ignored %</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2-1-24 11:12:23</td>
                        <td>0%</td>
                        <td>100%</td>
                        <td>0%</td>
                    </tr>
                </tbody>
            </table>
        </aricle>
        <article>
            <h2>Results</h2>
            <section>
                <h3>View Options</h3>
                <form>
                    <fieldset>
                        <legend>Status Filters</legend>
                        <label>
                            <input type="checkbox" checked> Active Nodes
                        </label>
                        <label>
                            <input type="checkbox" checked> Ignored Nodes
                        </label>
                        <label>
                            <input type="checkbox" checked> Equalified Nodes
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Issue Filters</legend>
                        <label>
                            <input type="checkbox" checked> Heading tag without any text
                        </label>
                        <label>
                            <input type="checkbox" checked> Manual check: should this be a heading?
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Sort By</legend>
                        <label>
                            <input type="radio" name="sort" checked> Node Name (A to Z)
                        </label>
                        <label>
                            <input type="radio" name="sort"> Node Name (Z to A)
                        </label>
                        <label>
                            <input type="radio" name="sort"> URL (A to Z)
                        </label>
                        <label>
                            <input type="radio" name="sort"> URL (Z to A)
                        </label>
                        <label>
                            <input type="radio" name="sort"> Date Updated (Newest to Oldest)
                        </label>
                        <label>
                            <input type="radio" name="sort"> Date Updated (Oldest to Newest)
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Group By</legend>
                        <label>
                            <input type="radio" name="sort" checked> None 
                        </label>
                        <label>
                            <input type="radio" name="sort"> Issues
                        </label>
                        <label>
                            <input type="radio" name="sort"> URL
                        </label>
                        <label>
                            <input type="radio" name="sort"> Tag
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Search</legend>
                        <label>
                            Enter Keyword: <input type="text" id="search-input">
                        </label>    
                    </fieldset>
                    <button type="submit" disabled>Save View Options</button>

                </form>
            </section>
        
            <section id="edit-options" style="display: none;">
                <h3>Options</h3>
                <button onclick="window.location.href='5-scan_results-ignored_node.html';">Ignore from Scan</button>
                <button>Unignore from Scan</button>
                <button>AI Analyze</button>
            </section>

            <section>
                <h3>Nodes</h3>
        
                <table>
                    <thead>
                        <tr>
                            <th>
                                <input type="checkbox" aria-label="Select all nodes" onclick="toggleAllTableCheckboxes(this)">
                            </th>
                            <th>Node</th>
                            <th>Screenshot</th>
                            <th>Status</th>
                            <th>Issues</th>
                            <th>Tags</th>
                            <th>URL</th>
                            <th>Added</th>
                            <th>Updated</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" onchange="toggleEditOptions()"></td>
                            <td><a href="#">Node 4232</a></td>
                            <td><img src="image.jpg" alt="Screenshot of Node 4232"></td>
                            <td>Active</td>
                            <td><a href="#">Heading tag without any text</a>, <a href="#">Manual check: should this be a heading?</a></td>
                            <td><a href="#">WCAG 2.2 A</a>, <a href="#">WCAG 2.2 AA</a>, <a href="#">WCAG 2.2 AAA</a>, <a href="#">Heading Elements</a></td>
                            <td>https://equalify.app</td>
                            <td>12-1-2024</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" onchange="toggleEditOptions()"></td>
                            <td><a href="#">Node 4231</a></td>
                            <td><img src="image.jpg" alt="Screenshot of Node 4231"></td>
                            <td>Active</td>
                            <td><a href="#">Heading tag without any text</a></td>
                            <td><a href="#">WCAG 2.2 A</a>, <a href="#">WCAG 2.2 AA</a>, <a href="#">WCAG 2.2 AAA</a>, <a href="#">Heading Elements</a></td>
                            <td>https://philosophers.group</td>
                            <td>12-1-2024</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
        
                <nav aria-label="Nodes Table">
                    Showing 2 of 2 Nodes <button disabled>Load More Nodes</button>
                </nav>
            </section>    
        </article>

        <article>
            <h2>Related Logs</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Message</th>
                        <th>Trigger</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="#">21</a></td>
                        <td>Scan successful. 2 new nodes. 2 new issues.</td>
                        <td>User: Blake</td>
                    </tr>
                    <tr>
                        <td><a href="#">20</a></td>
                        <td>Check failed on Node 4231 and 4232.</td>
                        <td><a href="#">Scan 219</a></td>
                    </tr>
                </tbody>
            </table>

            <nav aria-label="Logs Table">
                Showing 2 of 2 Logs <button disabled>Load More Logs</button>
            </nav>
        </article>

    </main>

    <footer>
        <section>
            <h2>Scan Quota</h2>
            <p>0 free scans remaining. <a href="#">Upgrade</a>.</p>
        </section>
        <section>
            <h2>Need help?</h2>
            <p>Email <a href="#">support@equalify.app</a>.</p>
        </section>
    </footer>

    
    <script src="script.js"></script>
</body>
</html>